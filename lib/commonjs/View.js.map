{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeGestureHandler","_reactNativeWebview","_context","_OpeningBook","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","View","_ref","templateUri","allowedUris","onStarted","onReady","onDisplayError","onResized","onLocationChange","onRendered","onSearch","onLocationsReady","onSelected","onMarkPressed","onOrientationChange","onLayout","onNavigationLoaded","onBeginning","onFinish","onPress","onDoublePress","width","height","initialLocation","enableSwipe","onSwipeLeft","onSwipeRight","defaultTheme","initialTheme","renderOpeningBookComponent","createElement","OpeningBook","registerBook","setTotalLocations","setCurrentLocation","setMeta","setProgress","setLocations","setAtStart","setAtEnd","goNext","goPrevious","isRendering","setIsRendering","goToLocation","changeTheme","setKey","setSearchResults","theme","useContext","ReaderContext","renderedOnce","setRenderedOnce","useState","updateSource","book","useRef","onMessage","event","parsedEvent","JSON","parse","nativeEvent","data","type","metadata","totalLocations","currentLocation","progress","reason","layout","atStart","atEnd","results","epubKey","locations","cfiRange","text","orientation","section","currentSection","toc","useEffect","current","lastTap","timer","handleDoublePress","clearTimeout","Date","now","setTimeout","GestureHandlerRootView","style","FlingGestureHandler","direction","I18nManager","isRTL","Directions","LEFT","RIGHT","onHandlerStateChange","_ref2","state","State","ACTIVE","_ref3","justifyContent","alignItems","position","top","zIndex","TouchableWithoutFeedback","WebView","ref","source","uri","undefined","showsVerticalScrollIndicator","javaScriptEnabled","originWhitelist","scrollEnabled","mixedContentMode","allowingReadAccessToURL","allowUniversalAccessFromFileURLs","allowFileAccessFromFileURLs","allowFileAccess","onLoad","onShouldStartLoadWithRequest","request","mainDocumentURL","url","replace","backgroundColor","body","background"],"sources":["View.tsx"],"sourcesContent":["import React, { useContext, useEffect, useRef,useState } from 'react';\nimport {\n  TouchableWithoutFeedback,\n  I18nManager,\n  View as RNView,\n} from 'react-native';\nimport {\n  Directions,\n  FlingGestureHandler,\n  GestureHandlerRootView,\n  State,\n} from 'react-native-gesture-handler';\nimport { WebView, WebViewMessageEvent } from 'react-native-webview';\nimport { defaultTheme as initialTheme, ReaderContext } from './context';\nimport type { ReaderProps } from './types';\nimport { OpeningBook } from './utils/OpeningBook';\n\nexport type ViewProps = Omit<ReaderProps, 'src' | 'fileSystem'> & {\n  templateUri: string;\n  allowedUris: string;\n};\n\nexport function View({\n  templateUri,\n  allowedUris,\n  onStarted = () => {},\n  onReady = () => {},\n  onDisplayError = () => {},\n  onResized = () => {},\n  onLocationChange = () => {},\n  onRendered = () => {},\n  onSearch = () => {},\n  onLocationsReady = () => {},\n  onSelected = () => {},\n  onMarkPressed = () => {},\n  onOrientationChange = () => {},\n  onLayout = () => {},\n  onNavigationLoaded = () => {},\n  onBeginning = () => {},\n  onFinish = () => {},\n  onPress = () => {},\n  onDoublePress = () => {},\n  width,\n  height,\n  initialLocation,\n  enableSwipe = true,\n  onSwipeLeft = () => {},\n  onSwipeRight = () => {},\n  defaultTheme = initialTheme,\n  renderOpeningBookComponent = () => (\n    <OpeningBook width={width} height={height} />\n  ),\n}: ViewProps) {\n  const {\n    registerBook,\n    setTotalLocations,\n    setCurrentLocation,\n    setMeta,\n    setProgress,\n    setLocations,\n    setAtStart,\n    setAtEnd,\n    goNext,\n    goPrevious,\n    isRendering,\n    setIsRendering,\n    goToLocation,\n    changeTheme,\n    setKey,\n    setSearchResults,\n    theme,\n  } = useContext(ReaderContext);\n\n  const [renderedOnce, setRenderedOnce] = useState(false);\n  const updateSource = () => {\n    setRenderedOnce(true);\n  };\n\n  \n  const book = useRef<WebView>(null);\n\n  const onMessage = (event: WebViewMessageEvent) => {\n    const parsedEvent = JSON.parse(event.nativeEvent.data);\n\n    const { type } = parsedEvent;\n\n    delete parsedEvent.type;\n\n    if (type === 'meta') {\n      const { metadata } = parsedEvent;\n      setMeta(metadata);\n    }\n\n    if (type === 'onStarted') {\n      setIsRendering(true);\n\n      changeTheme(defaultTheme);\n\n      return onStarted();\n    }\n\n    if (type === 'onReady') {\n      const { totalLocations, currentLocation, progress } = parsedEvent;\n      setIsRendering(false);\n      setTotalLocations(totalLocations);\n      setCurrentLocation(currentLocation);\n      setProgress(progress);\n\n      if (initialLocation) {\n        goToLocation(initialLocation);\n      }\n\n      return onReady(totalLocations, currentLocation, progress);\n    }\n\n    if (type === 'onDisplayError') {\n      const { reason } = parsedEvent;\n      setIsRendering(false);\n\n      return onDisplayError(reason);\n    }\n\n    if (type === 'onResized') {\n      const { layout } = parsedEvent;\n\n      return onResized(layout);\n    }\n\n    if (type === 'onLocationChange') {\n      const { totalLocations, currentLocation, progress } = parsedEvent;\n      setTotalLocations(totalLocations);\n      setCurrentLocation(currentLocation);\n      setProgress(progress);\n\n      if (currentLocation.atStart) setAtStart(true);\n      else if (currentLocation.atEnd) setAtEnd(true);\n      else {\n        setAtStart(false);\n        setAtEnd(false);\n      }\n      return onLocationChange(totalLocations, currentLocation, progress);\n    }\n\n    if (type === 'onSearch') {\n      const { results } = parsedEvent;\n      setSearchResults(results);\n\n      return onSearch(results);\n    }\n\n    if (type === 'onLocationsReady') {\n      const { epubKey } = parsedEvent;\n      setLocations(parsedEvent.locations);\n      setKey(epubKey);\n\n      return onLocationsReady(epubKey, parsedEvent.locations);\n    }\n\n    if (type === 'onSelected') {\n      const { cfiRange, text } = parsedEvent;\n\n      return onSelected(text, cfiRange);\n    }\n\n    if (type === 'onMarkPressed') {\n      const { cfiRange, text } = parsedEvent;\n\n      return onMarkPressed(cfiRange, text);\n    }\n\n    if (type === 'onOrientationChange') {\n      const { orientation } = parsedEvent;\n\n      return onOrientationChange(orientation);\n    }\n\n    if (type === 'onBeginning') {\n      setAtStart(true);\n\n      return onBeginning();\n    }\n\n    if (type === 'onFinish') {\n      setAtEnd(true);\n\n      return onFinish();\n    }\n\n    if (type === 'onRendered') {\n      const { section, currentSection } = parsedEvent;\n\n      return onRendered(section, currentSection);\n    }\n\n    if (type === 'onLayout') {\n      const { layout } = parsedEvent;\n\n      return onLayout(layout);\n    }\n\n    if (type === 'onNavigationLoaded') {\n      const { toc } = parsedEvent;\n\n      return onNavigationLoaded(toc);\n    }\n\n    return () => {};\n  };\n\n  useEffect(() => {\n    if (book.current) registerBook(book.current);\n  }, [registerBook]);\n\n  let lastTap: number | null = null;\n  let timer: NodeJS.Timeout;\n\n  const handleDoublePress = () => {\n    if (lastTap) {\n      onDoublePress();\n      clearTimeout(timer);\n      lastTap = null;\n    } else {\n      lastTap = Date.now();\n      timer = setTimeout(() => {\n        onPress();\n        lastTap = null;\n        clearTimeout(timer);\n      }, 300);\n    }\n  };\n\n  return (\n    <GestureHandlerRootView style={{ width, height }}>\n      <FlingGestureHandler\n        direction={I18nManager.isRTL ? Directions.LEFT : Directions.RIGHT}\n        onHandlerStateChange={({ nativeEvent }) => {\n          if (nativeEvent.state === State.ACTIVE && enableSwipe) {\n            goPrevious();\n            onSwipeRight();\n          }\n        }}\n      >\n        <FlingGestureHandler\n          direction={I18nManager.isRTL ? Directions.RIGHT : Directions.LEFT}\n          onHandlerStateChange={({ nativeEvent }) => {\n            if (nativeEvent.state === State.ACTIVE && enableSwipe) {\n              goNext();\n              onSwipeLeft();\n            }\n          }}\n        >\n          <RNView\n            style={{\n              height: '100%',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}\n          >\n            {isRendering && (\n              <RNView\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  position: 'absolute',\n                  top: 0,\n                  zIndex: 2,\n                }}\n              >\n                {renderOpeningBookComponent()}\n              </RNView>\n            )}\n\n            <TouchableWithoutFeedback onPress={handleDoublePress}>\n              <WebView\n                ref={book}\n                source={  renderedOnce ? {uri: templateUri} : undefined}\n                showsVerticalScrollIndicator={false}\n                javaScriptEnabled\n                originWhitelist={['*']}\n                scrollEnabled={false}\n                mixedContentMode=\"compatibility\"\n                onMessage={onMessage}\n                allowingReadAccessToURL={allowedUris}\n                allowUniversalAccessFromFileURLs\n                allowFileAccessFromFileURLs\n                allowFileAccess\n                onLoad={updateSource}\n                onShouldStartLoadWithRequest={(request) => {\n                  if (\n                    !isRendering &&\n                    request.mainDocumentURL &&\n                    request.url !== request.mainDocumentURL\n                  ) {\n                    goToLocation(\n                      request.url.replace(request.mainDocumentURL, '')\n                    );\n                  }\n                  return true;\n                }}\n                style={{\n                  width,\n                  backgroundColor: theme.body.background,\n                  height,\n                }}\n              />\n            </TouchableWithoutFeedback>\n          </RNView>\n        </FlingGestureHandler>\n      </FlingGestureHandler>\n    </GestureHandlerRootView>\n  );\n}\n"],"mappings":"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"}