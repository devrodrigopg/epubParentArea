{"version":3,"names":["React","useContext","useEffect","useRef","useState","TouchableWithoutFeedback","I18nManager","View","RNView","Directions","FlingGestureHandler","GestureHandlerRootView","State","WebView","defaultTheme","initialTheme","ReaderContext","OpeningBook","_ref","templateUri","allowedUris","onStarted","onReady","onDisplayError","onResized","onLocationChange","onRendered","onSearch","onLocationsReady","onSelected","onMarkPressed","onOrientationChange","onLayout","onNavigationLoaded","onBeginning","onFinish","onPress","onDoublePress","width","height","initialLocation","enableSwipe","onSwipeLeft","onSwipeRight","renderOpeningBookComponent","createElement","registerBook","setTotalLocations","setCurrentLocation","setMeta","setProgress","setLocations","setAtStart","setAtEnd","goNext","goPrevious","isRendering","setIsRendering","goToLocation","changeTheme","setKey","setSearchResults","theme","renderedOnce","setRenderedOnce","updateSource","book","onMessage","event","parsedEvent","JSON","parse","nativeEvent","data","type","metadata","totalLocations","currentLocation","progress","reason","layout","atStart","atEnd","results","epubKey","locations","cfiRange","text","orientation","section","currentSection","toc","current","lastTap","timer","handleDoublePress","clearTimeout","Date","now","setTimeout","style","direction","isRTL","LEFT","RIGHT","onHandlerStateChange","_ref2","state","ACTIVE","_ref3","justifyContent","alignItems","position","top","zIndex","ref","source","uri","undefined","showsVerticalScrollIndicator","javaScriptEnabled","originWhitelist","scrollEnabled","mixedContentMode","allowingReadAccessToURL","allowUniversalAccessFromFileURLs","allowFileAccessFromFileURLs","allowFileAccess","onLoad","onShouldStartLoadWithRequest","request","mainDocumentURL","url","replace","backgroundColor","body","background"],"sources":["View.tsx"],"sourcesContent":["import React, { useContext, useEffect, useRef,useState } from 'react';\nimport {\n  TouchableWithoutFeedback,\n  I18nManager,\n  View as RNView,\n} from 'react-native';\nimport {\n  Directions,\n  FlingGestureHandler,\n  GestureHandlerRootView,\n  State,\n} from 'react-native-gesture-handler';\nimport { WebView, WebViewMessageEvent } from 'react-native-webview';\nimport { defaultTheme as initialTheme, ReaderContext } from './context';\nimport type { ReaderProps } from './types';\nimport { OpeningBook } from './utils/OpeningBook';\n\nexport type ViewProps = Omit<ReaderProps, 'src' | 'fileSystem'> & {\n  templateUri: string;\n  allowedUris: string;\n};\n\nexport function View({\n  templateUri,\n  allowedUris,\n  onStarted = () => {},\n  onReady = () => {},\n  onDisplayError = () => {},\n  onResized = () => {},\n  onLocationChange = () => {},\n  onRendered = () => {},\n  onSearch = () => {},\n  onLocationsReady = () => {},\n  onSelected = () => {},\n  onMarkPressed = () => {},\n  onOrientationChange = () => {},\n  onLayout = () => {},\n  onNavigationLoaded = () => {},\n  onBeginning = () => {},\n  onFinish = () => {},\n  onPress = () => {},\n  onDoublePress = () => {},\n  width,\n  height,\n  initialLocation,\n  enableSwipe = true,\n  onSwipeLeft = () => {},\n  onSwipeRight = () => {},\n  defaultTheme = initialTheme,\n  renderOpeningBookComponent = () => (\n    <OpeningBook width={width} height={height} />\n  ),\n}: ViewProps) {\n  const {\n    registerBook,\n    setTotalLocations,\n    setCurrentLocation,\n    setMeta,\n    setProgress,\n    setLocations,\n    setAtStart,\n    setAtEnd,\n    goNext,\n    goPrevious,\n    isRendering,\n    setIsRendering,\n    goToLocation,\n    changeTheme,\n    setKey,\n    setSearchResults,\n    theme,\n  } = useContext(ReaderContext);\n\n  const [renderedOnce, setRenderedOnce] = useState(false);\n  const updateSource = () => {\n    setRenderedOnce(true);\n  };\n\n  \n  const book = useRef<WebView>(null);\n\n  const onMessage = (event: WebViewMessageEvent) => {\n    const parsedEvent = JSON.parse(event.nativeEvent.data);\n\n    const { type } = parsedEvent;\n\n    delete parsedEvent.type;\n\n    if (type === 'meta') {\n      const { metadata } = parsedEvent;\n      setMeta(metadata);\n    }\n\n    if (type === 'onStarted') {\n      setIsRendering(true);\n\n      changeTheme(defaultTheme);\n\n      return onStarted();\n    }\n\n    if (type === 'onReady') {\n      const { totalLocations, currentLocation, progress } = parsedEvent;\n      setIsRendering(false);\n      setTotalLocations(totalLocations);\n      setCurrentLocation(currentLocation);\n      setProgress(progress);\n\n      if (initialLocation) {\n        goToLocation(initialLocation);\n      }\n\n      return onReady(totalLocations, currentLocation, progress);\n    }\n\n    if (type === 'onDisplayError') {\n      const { reason } = parsedEvent;\n      setIsRendering(false);\n\n      return onDisplayError(reason);\n    }\n\n    if (type === 'onResized') {\n      const { layout } = parsedEvent;\n\n      return onResized(layout);\n    }\n\n    if (type === 'onLocationChange') {\n      const { totalLocations, currentLocation, progress } = parsedEvent;\n      setTotalLocations(totalLocations);\n      setCurrentLocation(currentLocation);\n      setProgress(progress);\n\n      if (currentLocation.atStart) setAtStart(true);\n      else if (currentLocation.atEnd) setAtEnd(true);\n      else {\n        setAtStart(false);\n        setAtEnd(false);\n      }\n      return onLocationChange(totalLocations, currentLocation, progress);\n    }\n\n    if (type === 'onSearch') {\n      const { results } = parsedEvent;\n      setSearchResults(results);\n\n      return onSearch(results);\n    }\n\n    if (type === 'onLocationsReady') {\n      const { epubKey } = parsedEvent;\n      setLocations(parsedEvent.locations);\n      setKey(epubKey);\n\n      return onLocationsReady(epubKey, parsedEvent.locations);\n    }\n\n    if (type === 'onSelected') {\n      const { cfiRange, text } = parsedEvent;\n\n      return onSelected(text, cfiRange);\n    }\n\n    if (type === 'onMarkPressed') {\n      const { cfiRange, text } = parsedEvent;\n\n      return onMarkPressed(cfiRange, text);\n    }\n\n    if (type === 'onOrientationChange') {\n      const { orientation } = parsedEvent;\n\n      return onOrientationChange(orientation);\n    }\n\n    if (type === 'onBeginning') {\n      setAtStart(true);\n\n      return onBeginning();\n    }\n\n    if (type === 'onFinish') {\n      setAtEnd(true);\n\n      return onFinish();\n    }\n\n    if (type === 'onRendered') {\n      const { section, currentSection } = parsedEvent;\n\n      return onRendered(section, currentSection);\n    }\n\n    if (type === 'onLayout') {\n      const { layout } = parsedEvent;\n\n      return onLayout(layout);\n    }\n\n    if (type === 'onNavigationLoaded') {\n      const { toc } = parsedEvent;\n\n      return onNavigationLoaded(toc);\n    }\n\n    return () => {};\n  };\n\n  useEffect(() => {\n    if (book.current) registerBook(book.current);\n  }, [registerBook]);\n\n  let lastTap: number | null = null;\n  let timer: NodeJS.Timeout;\n\n  const handleDoublePress = () => {\n    if (lastTap) {\n      onDoublePress();\n      clearTimeout(timer);\n      lastTap = null;\n    } else {\n      lastTap = Date.now();\n      timer = setTimeout(() => {\n        onPress();\n        lastTap = null;\n        clearTimeout(timer);\n      }, 300);\n    }\n  };\n\n  return (\n    <GestureHandlerRootView style={{ width, height }}>\n      <FlingGestureHandler\n        direction={I18nManager.isRTL ? Directions.LEFT : Directions.RIGHT}\n        onHandlerStateChange={({ nativeEvent }) => {\n          if (nativeEvent.state === State.ACTIVE && enableSwipe) {\n            goPrevious();\n            onSwipeRight();\n          }\n        }}\n      >\n        <FlingGestureHandler\n          direction={I18nManager.isRTL ? Directions.RIGHT : Directions.LEFT}\n          onHandlerStateChange={({ nativeEvent }) => {\n            if (nativeEvent.state === State.ACTIVE && enableSwipe) {\n              goNext();\n              onSwipeLeft();\n            }\n          }}\n        >\n          <RNView\n            style={{\n              height: '100%',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}\n          >\n            {isRendering && (\n              <RNView\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  position: 'absolute',\n                  top: 0,\n                  zIndex: 2,\n                }}\n              >\n                {renderOpeningBookComponent()}\n              </RNView>\n            )}\n\n            <TouchableWithoutFeedback onPress={handleDoublePress}>\n              <WebView\n                ref={book}\n                source={  renderedOnce ? {uri: templateUri} : undefined}\n                showsVerticalScrollIndicator={false}\n                javaScriptEnabled\n                originWhitelist={['*']}\n                scrollEnabled={false}\n                mixedContentMode=\"compatibility\"\n                onMessage={onMessage}\n                allowingReadAccessToURL={allowedUris}\n                allowUniversalAccessFromFileURLs\n                allowFileAccessFromFileURLs\n                allowFileAccess\n                onLoad={updateSource}\n                onShouldStartLoadWithRequest={(request) => {\n                  if (\n                    !isRendering &&\n                    request.mainDocumentURL &&\n                    request.url !== request.mainDocumentURL\n                  ) {\n                    goToLocation(\n                      request.url.replace(request.mainDocumentURL, '')\n                    );\n                  }\n                  return true;\n                }}\n                style={{\n                  width,\n                  backgroundColor: theme.body.background,\n                  height,\n                }}\n              />\n            </TouchableWithoutFeedback>\n          </RNView>\n        </FlingGestureHandler>\n      </FlingGestureHandler>\n    </GestureHandlerRootView>\n  );\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAACC,QAAQ,QAAQ,OAAO;AACrE,SACEC,wBAAwB,EACxBC,WAAW,EACXC,IAAI,IAAIC,MAAM,QACT,cAAc;AACrB,SACEC,UAAU,EACVC,mBAAmB,EACnBC,sBAAsB,EACtBC,KAAK,QACA,8BAA8B;AACrC,SAASC,OAAO,QAA6B,sBAAsB;AACnE,SAASC,YAAY,IAAIC,YAAY,EAAEC,aAAa,QAAQ,WAAW;AAEvE,SAASC,WAAW,QAAQ,qBAAqB;AAOjD,OAAO,SAASV,IAAIA,CAAAW,IAAA,EA8BN;EAAA,IA9BO;IACnBC,WAAW;IACXC,WAAW;IACXC,SAAS,GAAGA,CAAA,KAAM,CAAC,CAAC;IACpBC,OAAO,GAAGA,CAAA,KAAM,CAAC,CAAC;IAClBC,cAAc,GAAGA,CAAA,KAAM,CAAC,CAAC;IACzBC,SAAS,GAAGA,CAAA,KAAM,CAAC,CAAC;IACpBC,gBAAgB,GAAGA,CAAA,KAAM,CAAC,CAAC;IAC3BC,UAAU,GAAGA,CAAA,KAAM,CAAC,CAAC;IACrBC,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;IACnBC,gBAAgB,GAAGA,CAAA,KAAM,CAAC,CAAC;IAC3BC,UAAU,GAAGA,CAAA,KAAM,CAAC,CAAC;IACrBC,aAAa,GAAGA,CAAA,KAAM,CAAC,CAAC;IACxBC,mBAAmB,GAAGA,CAAA,KAAM,CAAC,CAAC;IAC9BC,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;IACnBC,kBAAkB,GAAGA,CAAA,KAAM,CAAC,CAAC;IAC7BC,WAAW,GAAGA,CAAA,KAAM,CAAC,CAAC;IACtBC,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;IACnBC,OAAO,GAAGA,CAAA,KAAM,CAAC,CAAC;IAClBC,aAAa,GAAGA,CAAA,KAAM,CAAC,CAAC;IACxBC,KAAK;IACLC,MAAM;IACNC,eAAe;IACfC,WAAW,GAAG,IAAI;IAClBC,WAAW,GAAGA,CAAA,KAAM,CAAC,CAAC;IACtBC,YAAY,GAAGA,CAAA,KAAM,CAAC,CAAC;IACvB7B,YAAY,GAAGC,YAAY;IAC3B6B,0BAA0B,GAAGA,CAAA,kBAC3B5C,KAAA,CAAA6C,aAAA,CAAC5B,WAAW;MAACqB,KAAK,EAAEA,KAAM;MAACC,MAAM,EAAEA;IAAO,CAAE;EAErC,CAAC,GAAArB,IAAA;EACV,MAAM;IACJ4B,YAAY;IACZC,iBAAiB;IACjBC,kBAAkB;IAClBC,OAAO;IACPC,WAAW;IACXC,YAAY;IACZC,UAAU;IACVC,QAAQ;IACRC,MAAM;IACNC,UAAU;IACVC,WAAW;IACXC,cAAc;IACdC,YAAY;IACZC,WAAW;IACXC,MAAM;IACNC,gBAAgB;IAChBC;EACF,CAAC,GAAG7D,UAAU,CAACe,aAAa,CAAC;EAE7B,MAAM,CAAC+C,YAAY,EAAEC,eAAe,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM6D,YAAY,GAAGA,CAAA,KAAM;IACzBD,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAGD,MAAME,IAAI,GAAG/D,MAAM,CAAU,IAAI,CAAC;EAElC,MAAMgE,SAAS,GAAIC,KAA0B,IAAK;IAChD,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACI,WAAW,CAACC,IAAI,CAAC;IAEtD,MAAM;MAAEC;IAAK,CAAC,GAAGL,WAAW;IAE5B,OAAOA,WAAW,CAACK,IAAI;IAEvB,IAAIA,IAAI,KAAK,MAAM,EAAE;MACnB,MAAM;QAAEC;MAAS,CAAC,GAAGN,WAAW;MAChCpB,OAAO,CAAC0B,QAAQ,CAAC;IACnB;IAEA,IAAID,IAAI,KAAK,WAAW,EAAE;MACxBjB,cAAc,CAAC,IAAI,CAAC;MAEpBE,WAAW,CAAC7C,YAAY,CAAC;MAEzB,OAAOO,SAAS,CAAC,CAAC;IACpB;IAEA,IAAIqD,IAAI,KAAK,SAAS,EAAE;MACtB,MAAM;QAAEE,cAAc;QAAEC,eAAe;QAAEC;MAAS,CAAC,GAAGT,WAAW;MACjEZ,cAAc,CAAC,KAAK,CAAC;MACrBV,iBAAiB,CAAC6B,cAAc,CAAC;MACjC5B,kBAAkB,CAAC6B,eAAe,CAAC;MACnC3B,WAAW,CAAC4B,QAAQ,CAAC;MAErB,IAAItC,eAAe,EAAE;QACnBkB,YAAY,CAAClB,eAAe,CAAC;MAC/B;MAEA,OAAOlB,OAAO,CAACsD,cAAc,EAAEC,eAAe,EAAEC,QAAQ,CAAC;IAC3D;IAEA,IAAIJ,IAAI,KAAK,gBAAgB,EAAE;MAC7B,MAAM;QAAEK;MAAO,CAAC,GAAGV,WAAW;MAC9BZ,cAAc,CAAC,KAAK,CAAC;MAErB,OAAOlC,cAAc,CAACwD,MAAM,CAAC;IAC/B;IAEA,IAAIL,IAAI,KAAK,WAAW,EAAE;MACxB,MAAM;QAAEM;MAAO,CAAC,GAAGX,WAAW;MAE9B,OAAO7C,SAAS,CAACwD,MAAM,CAAC;IAC1B;IAEA,IAAIN,IAAI,KAAK,kBAAkB,EAAE;MAC/B,MAAM;QAAEE,cAAc;QAAEC,eAAe;QAAEC;MAAS,CAAC,GAAGT,WAAW;MACjEtB,iBAAiB,CAAC6B,cAAc,CAAC;MACjC5B,kBAAkB,CAAC6B,eAAe,CAAC;MACnC3B,WAAW,CAAC4B,QAAQ,CAAC;MAErB,IAAID,eAAe,CAACI,OAAO,EAAE7B,UAAU,CAAC,IAAI,CAAC,CAAC,KACzC,IAAIyB,eAAe,CAACK,KAAK,EAAE7B,QAAQ,CAAC,IAAI,CAAC,CAAC,KAC1C;QACHD,UAAU,CAAC,KAAK,CAAC;QACjBC,QAAQ,CAAC,KAAK,CAAC;MACjB;MACA,OAAO5B,gBAAgB,CAACmD,cAAc,EAAEC,eAAe,EAAEC,QAAQ,CAAC;IACpE;IAEA,IAAIJ,IAAI,KAAK,UAAU,EAAE;MACvB,MAAM;QAAES;MAAQ,CAAC,GAAGd,WAAW;MAC/BR,gBAAgB,CAACsB,OAAO,CAAC;MAEzB,OAAOxD,QAAQ,CAACwD,OAAO,CAAC;IAC1B;IAEA,IAAIT,IAAI,KAAK,kBAAkB,EAAE;MAC/B,MAAM;QAAEU;MAAQ,CAAC,GAAGf,WAAW;MAC/BlB,YAAY,CAACkB,WAAW,CAACgB,SAAS,CAAC;MACnCzB,MAAM,CAACwB,OAAO,CAAC;MAEf,OAAOxD,gBAAgB,CAACwD,OAAO,EAAEf,WAAW,CAACgB,SAAS,CAAC;IACzD;IAEA,IAAIX,IAAI,KAAK,YAAY,EAAE;MACzB,MAAM;QAAEY,QAAQ;QAAEC;MAAK,CAAC,GAAGlB,WAAW;MAEtC,OAAOxC,UAAU,CAAC0D,IAAI,EAAED,QAAQ,CAAC;IACnC;IAEA,IAAIZ,IAAI,KAAK,eAAe,EAAE;MAC5B,MAAM;QAAEY,QAAQ;QAAEC;MAAK,CAAC,GAAGlB,WAAW;MAEtC,OAAOvC,aAAa,CAACwD,QAAQ,EAAEC,IAAI,CAAC;IACtC;IAEA,IAAIb,IAAI,KAAK,qBAAqB,EAAE;MAClC,MAAM;QAAEc;MAAY,CAAC,GAAGnB,WAAW;MAEnC,OAAOtC,mBAAmB,CAACyD,WAAW,CAAC;IACzC;IAEA,IAAId,IAAI,KAAK,aAAa,EAAE;MAC1BtB,UAAU,CAAC,IAAI,CAAC;MAEhB,OAAOlB,WAAW,CAAC,CAAC;IACtB;IAEA,IAAIwC,IAAI,KAAK,UAAU,EAAE;MACvBrB,QAAQ,CAAC,IAAI,CAAC;MAEd,OAAOlB,QAAQ,CAAC,CAAC;IACnB;IAEA,IAAIuC,IAAI,KAAK,YAAY,EAAE;MACzB,MAAM;QAAEe,OAAO;QAAEC;MAAe,CAAC,GAAGrB,WAAW;MAE/C,OAAO3C,UAAU,CAAC+D,OAAO,EAAEC,cAAc,CAAC;IAC5C;IAEA,IAAIhB,IAAI,KAAK,UAAU,EAAE;MACvB,MAAM;QAAEM;MAAO,CAAC,GAAGX,WAAW;MAE9B,OAAOrC,QAAQ,CAACgD,MAAM,CAAC;IACzB;IAEA,IAAIN,IAAI,KAAK,oBAAoB,EAAE;MACjC,MAAM;QAAEiB;MAAI,CAAC,GAAGtB,WAAW;MAE3B,OAAOpC,kBAAkB,CAAC0D,GAAG,CAAC;IAChC;IAEA,OAAO,MAAM,CAAC,CAAC;EACjB,CAAC;EAEDzF,SAAS,CAAC,MAAM;IACd,IAAIgE,IAAI,CAAC0B,OAAO,EAAE9C,YAAY,CAACoB,IAAI,CAAC0B,OAAO,CAAC;EAC9C,CAAC,EAAE,CAAC9C,YAAY,CAAC,CAAC;EAElB,IAAI+C,OAAsB,GAAG,IAAI;EACjC,IAAIC,KAAqB;EAEzB,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAIF,OAAO,EAAE;MACXxD,aAAa,CAAC,CAAC;MACf2D,YAAY,CAACF,KAAK,CAAC;MACnBD,OAAO,GAAG,IAAI;IAChB,CAAC,MAAM;MACLA,OAAO,GAAGI,IAAI,CAACC,GAAG,CAAC,CAAC;MACpBJ,KAAK,GAAGK,UAAU,CAAC,MAAM;QACvB/D,OAAO,CAAC,CAAC;QACTyD,OAAO,GAAG,IAAI;QACdG,YAAY,CAACF,KAAK,CAAC;MACrB,CAAC,EAAE,GAAG,CAAC;IACT;EACF,CAAC;EAED,oBACE9F,KAAA,CAAA6C,aAAA,CAAClC,sBAAsB;IAACyF,KAAK,EAAE;MAAE9D,KAAK;MAAEC;IAAO;EAAE,gBAC/CvC,KAAA,CAAA6C,aAAA,CAACnC,mBAAmB;IAClB2F,SAAS,EAAE/F,WAAW,CAACgG,KAAK,GAAG7F,UAAU,CAAC8F,IAAI,GAAG9F,UAAU,CAAC+F,KAAM;IAClEC,oBAAoB,EAAEC,KAAA,IAAqB;MAAA,IAApB;QAAElC;MAAY,CAAC,GAAAkC,KAAA;MACpC,IAAIlC,WAAW,CAACmC,KAAK,KAAK/F,KAAK,CAACgG,MAAM,IAAInE,WAAW,EAAE;QACrDc,UAAU,CAAC,CAAC;QACZZ,YAAY,CAAC,CAAC;MAChB;IACF;EAAE,gBAEF3C,KAAA,CAAA6C,aAAA,CAACnC,mBAAmB;IAClB2F,SAAS,EAAE/F,WAAW,CAACgG,KAAK,GAAG7F,UAAU,CAAC+F,KAAK,GAAG/F,UAAU,CAAC8F,IAAK;IAClEE,oBAAoB,EAAEI,KAAA,IAAqB;MAAA,IAApB;QAAErC;MAAY,CAAC,GAAAqC,KAAA;MACpC,IAAIrC,WAAW,CAACmC,KAAK,KAAK/F,KAAK,CAACgG,MAAM,IAAInE,WAAW,EAAE;QACrDa,MAAM,CAAC,CAAC;QACRZ,WAAW,CAAC,CAAC;MACf;IACF;EAAE,gBAEF1C,KAAA,CAAA6C,aAAA,CAACrC,MAAM;IACL4F,KAAK,EAAE;MACL7D,MAAM,EAAE,MAAM;MACduE,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE;IACd;EAAE,GAEDvD,WAAW,iBACVxD,KAAA,CAAA6C,aAAA,CAACrC,MAAM;IACL4F,KAAK,EAAE;MACL9D,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE,MAAM;MACdyE,QAAQ,EAAE,UAAU;MACpBC,GAAG,EAAE,CAAC;MACNC,MAAM,EAAE;IACV;EAAE,GAEDtE,0BAA0B,CAAC,CACtB,CACT,eAED5C,KAAA,CAAA6C,aAAA,CAACxC,wBAAwB;IAAC+B,OAAO,EAAE2D;EAAkB,gBACnD/F,KAAA,CAAA6C,aAAA,CAAChC,OAAO;IACNsG,GAAG,EAAEjD,IAAK;IACVkD,MAAM,EAAIrD,YAAY,GAAG;MAACsD,GAAG,EAAElG;IAAW,CAAC,GAAGmG,SAAU;IACxDC,4BAA4B,EAAE,KAAM;IACpCC,iBAAiB;IACjBC,eAAe,EAAE,CAAC,GAAG,CAAE;IACvBC,aAAa,EAAE,KAAM;IACrBC,gBAAgB,EAAC,eAAe;IAChCxD,SAAS,EAAEA,SAAU;IACrByD,uBAAuB,EAAExG,WAAY;IACrCyG,gCAAgC;IAChCC,2BAA2B;IAC3BC,eAAe;IACfC,MAAM,EAAE/D,YAAa;IACrBgE,4BAA4B,EAAGC,OAAO,IAAK;MACzC,IACE,CAAC1E,WAAW,IACZ0E,OAAO,CAACC,eAAe,IACvBD,OAAO,CAACE,GAAG,KAAKF,OAAO,CAACC,eAAe,EACvC;QACAzE,YAAY,CACVwE,OAAO,CAACE,GAAG,CAACC,OAAO,CAACH,OAAO,CAACC,eAAe,EAAE,EAAE,CACjD,CAAC;MACH;MACA,OAAO,IAAI;IACb,CAAE;IACF/B,KAAK,EAAE;MACL9D,KAAK;MACLgG,eAAe,EAAExE,KAAK,CAACyE,IAAI,CAACC,UAAU;MACtCjG;IACF;EAAE,CACH,CACuB,CACpB,CACW,CACF,CACC,CAAC;AAE7B"}