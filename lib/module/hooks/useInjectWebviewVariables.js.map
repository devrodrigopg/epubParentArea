{"version":3,"names":["useCallback","template","useInjectWebVieWVariables","injectWebVieWVariables","_ref","jszip","epubjs","type","book","theme","enableSelection","locations","replace","JSON","stringify"],"sources":["useInjectWebviewVariables.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport type { Theme, ePubCfi } from '../types';\nimport template from '../template';\nimport type { SourceType } from '../utils/enums/source-type.enum';\n\nexport function useInjectWebVieWVariables() {\n  const injectWebVieWVariables = useCallback(\n    ({\n      jszip,\n      epubjs,\n      type,\n      book,\n      theme,\n      enableSelection,\n      locations,\n    }: {\n      jszip: string;\n      epubjs: string;\n      type: SourceType;\n      book: string;\n      theme: Theme;\n      enableSelection: boolean;\n      locations?: ePubCfi[];\n    }) => {\n      return template\n        .replace(\n          /<script id=\"jszip\"><\\/script>/,\n          `<script src=\"${jszip}\"></script>`\n        )\n        .replace(\n          /<script id=\"epubjs\"><\\/script>/,\n          `<script src=\"${epubjs}\"></script>`\n        )\n        .replace(/const type = window.type;/, `const type = '${type}';`)\n        .replace(/const file = window.book;/, `const file = '${book}';`)\n        .replace(\n          /const theme = window.theme;/,\n          `const theme = ${JSON.stringify(theme)};`\n        )\n        .replace(\n          /const initialLocations = window.locations;/,\n          `const initialLocations = ${locations};`\n        )\n        .replace(\n          /const enableSelection = window.enable_selection;/,\n          `const enableSelection = ${enableSelection};`\n        );\n    },\n    []\n  );\n  return { injectWebVieWVariables };\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAOC,QAAQ,MAAM,aAAa;AAGlC,OAAO,SAASC,yBAAyBA,CAAA,EAAG;EAC1C,MAAMC,sBAAsB,GAAGH,WAAW,CACxCI,IAAA,IAgBM;IAAA,IAhBL;MACCC,KAAK;MACLC,MAAM;MACNC,IAAI;MACJC,IAAI;MACJC,KAAK;MACLC,eAAe;MACfC;IASF,CAAC,GAAAP,IAAA;IACC,OAAOH,QAAQ,CACZW,OAAO,CACN,+BAA+B,EAC9B,gBAAeP,KAAM,aACxB,CAAC,CACAO,OAAO,CACN,gCAAgC,EAC/B,gBAAeN,MAAO,aACzB,CAAC,CACAM,OAAO,CAAC,2BAA2B,EAAG,iBAAgBL,IAAK,IAAG,CAAC,CAC/DK,OAAO,CAAC,2BAA2B,EAAG,iBAAgBJ,IAAK,IAAG,CAAC,CAC/DI,OAAO,CACN,6BAA6B,EAC5B,iBAAgBC,IAAI,CAACC,SAAS,CAACL,KAAK,CAAE,GACzC,CAAC,CACAG,OAAO,CACN,4CAA4C,EAC3C,4BAA2BD,SAAU,GACxC,CAAC,CACAC,OAAO,CACN,kDAAkD,EACjD,2BAA0BF,eAAgB,GAC7C,CAAC;EACL,CAAC,EACD,EACF,CAAC;EACD,OAAO;IAAEP;EAAuB,CAAC;AACnC"}